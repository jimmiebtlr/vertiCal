{"version":3,"file":"/packages/jimmiebtlr:vertical.js","sources":["jimmiebtlr:vertical/vertiCal.html","jimmiebtlr:vertical/vertiCal.js"],"names":[],"mappings":";;;;;;;;;AACA,iC;AACA,sE;AACA,kB;AACA,mB;AACA,kB;AACA,yB;AACA,kC;AACA,wG;AACA,6B;AACA,2C;AACA,0H;AACA,gD;AACA,iB;AACA,kH;AACA,6Q;AACA,I;;AAEA,8C;AACA,gG;AACA,kB;AACA,mB;AACA,yC;AACA,8C;AACA,mD;AACA,e;AACA,I;;AAEA,+C;AACA,kG;AACA,kB;AACA,uH;AACA,I;;AAEA,mD;AACA,0G;AACA,kB;AACA,mB;AACA,yB;AACA,+F;AACA,K;AACA,sC;AACA,mD;AACA,c;AACA,I;;AAEA,iD;AACA,sG;AACA,kB;AACA,wH;AACA,I;;AAEA,4C;AACA,4F;AACA,kB;AACA,mH;AACA,I;;AAEA,2C;AACA,0F;AACA,kB;AACA,mB;AACA,gE;AACA,2B;AACA,0B;AACA,4B;AACA,uB;AACA,sD;AACA,M;AACA,gB;AACA,8G;AACA,I;;;;;;;;;;;;;;;;;;;ACvEA,uC;AACA,uD;AACA,qE;AACA,G;AACA,C;;AAEA,wC;AACA,6D;AACA,8C;AACA,uC;AACA,sF;AACA,Q;AACA,K;AACA,U;AACA,uC;AACA,qF;AACA,Q;AACA,K;AACA,2B;AACA,K;AACA,C;;AAEA,qC;AACA,4C;AACA,kB;AACA,6B;AACA,mB;AACA,G;AACA,gB;AACA,C;;AAEA,iD;AACA,sE;AACA,C;;AAEA,wD;AACA,qF;AACA,qD;AACA,wD;AACA,C;;AAEA,sD;AACA,qF;AACA,uD;AACA,yF;AACA,C;;AAEA,4C;AACA,2B;AACA,wC;AACA,gG;AACA,M;AACA,G;AACA,G;;AAEA,wC;AACA,2B;AACA,0E;AACA,mE;AACA,G;AACA,G;;AAEA,0C;AACA,2B;AACA,yE;AACA,oE;AACA,G;AACA,G;;AAEA,qC;AACA,gD;AACA,qE;AACA,wE;AACA,G;AACA,G;;AAEA,+C;AACA,0C;AACA,C;;AAEA,oC;AACA,8C;AACA,8C;AACA,gG;AACA,mG;AACA,G;AACA,G","sourcesContent":["\nTemplate.__checkName(\"vertiCal\");\nTemplate[\"vertiCal\"] = new Template(\"Template.vertiCal\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"vertiCal\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"hidden-sm hidden-xs\"\n  }, \"\\n      \", Spacebars.include(view.lookupTemplate(\"vertiCalDefaultHeader\")), \"\\n      \", HTML.DIV({\n    id: \"vertiCalScrollable\",\n    \"class\": \"btn-group-vertical btn-block\"\n  }, \"\\n        \", Spacebars.include(view.lookupTemplate(\"vertiCalDefaultUpArrow\")), \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"dates\"));\n  }, function() {\n    return [ \"\\n          \", Spacebars.include(view.lookupTemplate(\"vertiCalDefaultDateContent\")), \"\\n        \" ];\n  }), \"\\n        \", Spacebars.include(view.lookupTemplate(\"vertiCalDefaultDownArrow\")), \"\\n      \"), \"\\n\\n      \", Spacebars.include(view.lookupTemplate(\"vertiCalJumpToToday\")), \"\\n    \"), \"\\n    \", Spacebars.include(view.lookupTemplate(\"vertiCalJumpToDate\")), \"\\n  \");\n}));\n\nTemplate.__checkName(\"vertiCalDefaultHeader\");\nTemplate[\"vertiCalDefaultHeader\"] = new Template(\"Template.vertiCalDefaultHeader\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"vertiCalHeader text-center\"\n  }, \"\\n    \", HTML.H4(Blaze.View(function() {\n    return Spacebars.mustache(view.lookup(\"text\"));\n  })), \"\\n  \");\n}));\n\nTemplate.__checkName(\"vertiCalDefaultUpArrow\");\nTemplate[\"vertiCalDefaultUpArrow\"] = new Template(\"Template.vertiCalDefaultUpArrow\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"btn btn-default vertiCalControl\">\\n    <i class=\"fa fa-sort-asc fa-fw\"></i>\\n  </div>');\n}));\n\nTemplate.__checkName(\"vertiCalDefaultDateContent\");\nTemplate[\"vertiCalDefaultDateContent\"] = new Template(\"Template.vertiCalDefaultDateContent\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"btn btn-default \", Spacebars.mustache(view.lookup(\"active\")), \" text-center\" ];\n    }\n  }, \"\\n    \", Blaze.View(function() {\n    return Spacebars.mustache(view.lookup(\"text\"));\n  }), \"\\n  \");\n}));\n\nTemplate.__checkName(\"vertiCalDefaultDownArrow\");\nTemplate[\"vertiCalDefaultDownArrow\"] = new Template(\"Template.vertiCalDefaultDownArrow\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"btn btn-default vertiCalControl\">\\n    <i class=\"fa fa-sort-desc fa-fw\"></i>\\n  </div>');\n}));\n\nTemplate.__checkName(\"vertiCalJumpToToday\");\nTemplate[\"vertiCalJumpToToday\"] = new Template(\"Template.vertiCalJumpToToday\", (function() {\n  var view = this;\n  return HTML.Raw('<div id=\"vertiCalJumpToToday\" class=\"btn btn-default btn-block\">\\n    Jump to Today\\n  </div>');\n}));\n\nTemplate.__checkName(\"vertiCalJumpToDate\");\nTemplate[\"vertiCalJumpToDate\"] = new Template(\"Template.vertiCalJumpToDate\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"btn-block btn-group-vertical input-group-vertical\"\n  }, \"\\n    \", HTML.INPUT({\n    id: \"jumpToDateInput\",\n    \"class\": \"form-control\",\n    value: function() {\n      return Spacebars.mustache(view.lookup(\"value\"));\n    },\n    type: \"date\"\n  }), HTML.Raw('\\n    <input id=\"jumpToDateSubmit\" type=\"submit\" class=\"btn btn-default\" value=\"Jump\">\\n  '));\n}));\n","Template.vertiCal.created = function(){\n  if( Session.get('vertiCalStartDate') === undefined ){\n    Session.set('vertiCalStartDate', moment().format('MM/DD/YYYY') );\n  }\n}\n\nTemplate.vertiCal.rendered = function(){\n  $('#vertiCalScrollable').bind('mousewheel',function(event){\n    if (event.originalEvent.wheelDelta >= 0) {\n      Session.set('vertiCalStartDate', \n        moment(Session.get(\"vertiCalStartDate\")).add(-1, 'days').format('MM/DD/YYYY') \n      );\n    }\n    else {\n      Session.set('vertiCalStartDate', \n        moment(Session.get(\"vertiCalStartDate\")).add(1, 'days').format('MM/DD/YYYY') \n      );\n    }\n    event.preventDefault();\n  });\n}\n\nTemplate.vertiCal.dates = function(){\n  var num = this.numDays ? this.numDays : 7;\n  var indexs = [];\n  for( i = 0; i < num; i++ ){\n    indexs.push(i);\n  }\n  return indexs;\n}\n\nTemplate.vertiCalDefaultHeader.text = function(){\n  return moment(Session.get(\"vertiCalStartDate\")).format('MMMM YYYY');\n}\n\nTemplate.vertiCalDefaultDateContent.active = function(){\n  var current = moment(Session.get(\"vertiCalStartDate\")).add(parseInt(this), 'days');\n  var selected = Session.get(\"vertiCalSelectedDate\");\n  return current.isSame(selected,\"day\") ? \"active\" : \"\";\n}\n\nTemplate.vertiCalDefaultDateContent.text = function(){\n  var current = moment(Session.get(\"vertiCalStartDate\")).add(parseInt(this), 'days');\n  var start = moment(Session.get(\"vertiCalStartDate\"));\n  return current.isSame(start,\"month\") ? current.format(\"Do\") : current.format(\"MMM Do\");\n}\n\nTemplate.vertiCalDefaultDateContent.events({\n  'click': function(event){\n    Session.set(\"vertiCalSelectedDate\", \n        moment(Session.get(\"vertiCalStartDate\")).add(parseInt(this),'days').format(\"MM/DD/YYYY\")\n    );\n  }\n});\n\nTemplate.vertiCalDefaultUpArrow.events({\n  'click': function(event){\n    var newDate = moment(Session.get('vertiCalStartDate')).add(-1,'days');\n    Session.set('vertiCalStartDate', newDate.format('MM/DD/YYYY'));\n  }\n});\n\nTemplate.vertiCalDefaultDownArrow.events({\n  'click': function(event){\n    var newDate = moment(Session.get('vertiCalStartDate')).add(1,'days');\n    Session.set('vertiCalStartDate', newDate.format('MM/DD/YYYY') );\n  }\n});\n\nTemplate.vertiCalJumpToToday.events({\n  'click #vertiCalJumpToToday': function(event){\n    Session.set('vertiCalStartDate', moment().format('MM/DD/YYYY') );\n    Session.set(\"vertiCalSelectedDate\", moment().format('MM/DD/YYYY') );\n  }\n});\n\nTemplate.vertiCalJumpToDate.value = function(){\n  return Session.get('vertiCalStartDate');\n}\n\nTemplate.vertiCalJumpToDate.events({\n  'click #jumpToDateSubmit': function(event ){\n    console.log($('#jumpToDateInput').val() );\n    Session.set('vertiCalStartDate', moment($('#jumpToDateInput').val()).format('MM/DD/YYYY') );\n    Session.set(\"vertiCalSelectedDate\", moment($('#jumpToDateInput').val()).format('MM/DD/YYYY') );\n  }\n});\n"]}